<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAML BOX</title>

    <!-- Bootstrap CSS -->
    <link th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet">

    <!-- Custom CSS -->
    <style>
        body {
            background-color: #f8f9fa;
            min-height: 100vh;
            font-family: Arial, sans-serif;
        }

        .nav-bar {
            background-color: #2a4561;
            padding: 1rem 0;
        }

        .nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .brand {
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .saml-icon {
            width: 40px;
            height: 40px;
            margin-right: 0.5rem;
        }

        .hero {
            background-color: #2a4561;
            color: white;
            padding: 4rem 0;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.5rem;
            font-weight: 600;
        }

        .intro-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid rgba(0,0,0,0.08);
            margin: 2rem 0;
        }

        .intro-section h2 {
            color: #2a4561;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .intro-section p {
            color: #333;
            line-height: 1.6;
        }

        .intro-section ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .intro-section a {
            color: #2a4561;
            font-weight: 500;
            text-decoration: none;
        }

        .intro-section a:hover {
            color: #0066cc;
        }

        .action-cards {
            display: flex;
            gap: 2rem;
            margin: 2rem 0;
        }

        .action-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid rgba(0,0,0,0.08);
            flex: 1;
        }

        .action-card h2 {
            color: #2a4561;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .action-card p {
            color: #333;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .drop-zone {
            border: 2px dashed #dee2e6;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: border-color 0.2s ease;
        }

        .drop-zone:hover {
            border-color: #2a4561;
        }

        .btn-primary {
            background-color: #2a4561;
            border: none;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
        }

        .btn-primary:hover {
            background-color: #1a3248;
        }

        .hidden {
            display: none;
        }

        .footer {
            background-color: #2a4561;
            color: white;
            padding: 2rem 0;
            margin-top: 4rem;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            max-width: 1200px;
            margin: auto;
            padding: 0 1rem;
        }

        .footer-section {
            flex: 1;
            margin-right: 2rem;
        }

        .footer-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .footer-section ul {
            list-style-type: none;
            padding-left: 0;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section ul li a {
            color: white;
            text-decoration: none;
        }

        .footer-section ul li a:hover {
            text-decoration: underline;
        }

        .footer-bottom {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
    </style>
</head>
<body>
<!-- Navigation -->
<nav class="nav-bar">
    <div class="container nav-content">
        <a href="#" class="brand">
            <!-- SAML Icon SVG -->
            <svg class="saml-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#9b59b6;stop-opacity:1" />
                    </linearGradient>
                </defs>
                <path d="M50 15 L75 30 L65 60 L35 60 L25 30 Z"
                      fill="url(#gradient)"
                      stroke="#ffffff"
                      stroke-width="2"/>
                <path d="M50 35 L60 45 L50 55 L40 45 Z"
                      fill="none"
                      stroke="#ffffff"
                      stroke-width="2"/>
                <circle cx="50" cy="45" r="3" fill="#ffffff"/>
                <path d="M30 70 L70 70 M50 65 L50 75"
                      stroke="#ffffff"
                      stroke-width="2"
                      stroke-linecap="round"/>
            </svg>
            SAML BOX
        </a>
    </div>
</nav>

<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <h1>SAML Identity Provider & Service Provider for Your Development</h1>
    </div>
</section>

<main class="container">
    <!-- Detailed Intro Section -->
    <section class="intro-section">
        <h2>About This Platform</h2>
        <p>Welcome to SAML Box. This platform can act as both SAML Identity Provider (IDP) and Service Provider (SP). You can upload your own entity metadata and test integration via SAML SSO flow. </p>

        <p>
            With this platform, you can:
        </p>
        <ul>
            <li>Upload your own IDP and SP metadata files</li>
            <li>Test integrations in a sandbox environment</li>
            <li>Configure both IDP and SP for different settings and workflows</li>
        </ul>
        <p>
            The main goal for this platform is to provide real IDP and SP for development.
        </p>
        <p><a href="/saml2/metadata/samlbox">SP Metadata</a>  <a href="http://localhost:8080/realms/master/protocol/saml/descriptor">IDP Metadata</a></p>
    </section>

    <!-- Action Cards -->
    <div class="action-cards">
        <!-- IDP Card -->
        <div class="action-card">
            <h2>Upload <span style="color: red">IDP</span> Metadata</h2>
            <p>Your app is acting as an IDP and SAML Box (this website) is acting as SP</p>
            <form method="post" enctype="multipart/form-data" action="/idp/upload" id="uploadFormIdp" target="_blank">
                <!-- Drag & Drop Zone -->
                <div class="drop-zone" id="dropZoneIdp">
                    <span class="text-muted">Drag and drop files here</span>
                    <div class="my-2">or</div>

                    <!-- Hidden File Input -->
                    <input type="file" name="file" id="fileInputIdp" class="hidden" required>
                    <button type="button" class="btn btn-primary"
                            onclick="document.getElementById('fileInputIdp').click()">
                        Choose File
                    </button>

                    <!-- Selected File Name -->
                    <div id="file-nameIdp" class="mt-2"></div>
                </div>

                <!-- Upload Button -->
                <button type="submit" class="btn btn-primary mt-3">
                    Upload
                </button>
            </form>
        </div>

        <!-- SP Card -->
        <div class="action-card">
            <h2>Upload <span style="color: red">SP</span> metadata</h2>
            <p>Your app is acting as an SP and SAML Box (this website) is acting as IDP</p>
            <form id="uploadFormSp" enctype="multipart/form-data">
                <div class="upload-box" onclick="document.getElementById('fileInputSp').click()">
                    <p class="text-muted mb-2">Click to select a SAML metadata file</p>
                    <small class="text-muted">Supported format: .xml</small>
                    <input type="file" id="fileInputSp" class="form-control hidden" accept=".xml" required>
                    <div id="fileNameSp" class="mt-2 fw-bold text-primary"></div>
                </div>

                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary px-5">
                        Submit
                    </button>
                </div>
            </form>

            <div id="resultSection" class="hidden">
                <div class="card">
                    <div class="card-body">
                        <pre id="resultContent" class="mb-0"></pre>
                    </div>
                    <p>You can now access the SP setting page via <strong style="color: red;">/clients/edit?clientId={sp-entity-id}</strong></p>
                </div>
            </div>

            <div id="errorAlert" class="alert alert-danger mt-4 hidden" role="alert"></div>
        </div>
    </div>
</main>

<!-- Footer -->
<footer class="footer">
    <div class="footer-content">
        <div class="footer-section">
            <h3>About Us</h3>
            <p>Simplifying identity management solutions since 2023. Providing secure and reliable integration platforms.</p>
        </div>

        <div class="footer-section">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="#">Documentation</a></li>
                <li><a href="#">Support</a></li>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Terms of Service</a></li>
            </ul>
        </div>

        <div class="footer-section">
            <h3>Contact</h3>
            <ul>
                <li>Email: support@idp-portal.com</li>
                <li>Phone: (555) 123-4567</li>
                <li>Address: 123 Tech Street, Silicon Valley</li>
            </ul>
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2023 IDP/SP Configuration Portal. All rights reserved.</p>
    </div>
</footer>

<script th:src="@{/js/custom.js}"></script>
</body>
</html>